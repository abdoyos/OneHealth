<html>
  <head>
    <meta charset="UTF-8">
    <title> LAB Support | {{Title}}</title>
    {% block extrahead %}  {% endblock %}

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
  
    <title>LAB Support Timisoara</title>
  
    <!-- Custom fonts for this template -->
    <link href="{{url_for('.static', filename='vendor/fontawesome-free/css/all.min.css')}}" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
  
    <!-- Custom styles for this template -->
    <link href="{{url_for('.static', filename='css/sb-admin-2.min.css')}}" rel="stylesheet">
  
    <!-- Custom styles for this page -->
    <link href="{{url_for('.static', filename='vendor/datatables/dataTables.bootstrap4.min.css')}}" rel="stylesheet">
  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css" integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />
    
    <style>
        .session-timeout-notification
  {
      background-color: #BADA55;
      border-bottom: 1px solid #000;
      color: #c01065;
      display: none;
      padding: 4px;
      text-align: center;
  
  }
  #loader {
  position: absolute;
  left: 50%;
  top: 47%;
  z-index: 1;
  width: 200px;
  height: 200px;
  margin: -35px 0 0 -35px;
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid #3498db;
  width: 120px;
  height: 120px;
  -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
  
  display: none
  }
  
  @-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
  }
  
  @keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
  }
  
  /* Add animation to "page content" */
  .animate-bottom {
  position: relative;
  -webkit-animation-name: animatebottom;
  -webkit-animation-duration: 1s;
  animation-name: animatebottom;
  animation-duration: 1s
  }
  
  @-webkit-keyframes animatebottom {
  from { bottom:-100px; opacity:0 }
  to { bottom:0px; opacity:1 }
  }
  
  @keyframes animatebottom {
  from{ bottom:-100px; opacity:0 }
  to{ bottom:0; opacity:1 }
  }
  @keyframes fadein {
  from {
   opacity:0;
  }
  to {
   opacity:1;
  }
  }
  @-moz-keyframes fadein { /* Firefox */
  from {
   opacity:0;
  }
  to {
   opacity:1;
  }
  }
  @-webkit-keyframes fadein { /* Safari and Chrome */
  from {
   opacity:1;
  }
  to {
   opacity:1;
  }
  }
  @-o-keyframes fadein { /* Opera */
  from {
   opacity:0;
  }
  to {
   opacity: 1;
  }
  }
    </style>
    </head>

    <body id="page-top">
    
      <!-- Page Wrapper -->
      <div id="wrapper">
    
        <!-- Sidebar -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion  " id="accordionSidebar">
    
          <!-- Sidebar - Brand -->
          <a class="sidebar-brand d-flex align-items-center justify-content-center" >
            <div class="sidebar-brand-icon rotate-n-15">
              <i class="fas fa-user-md"></i>
            </div>
            <div class="sidebar-brand-text mx-3">Pediatrics schedule</div>
          </a>
    
          <!-- Divider -->
          
    <br>
          <!-- Nav Item - Dashboard 
          <li class="nav-item">
            <a class="nav-link" href="index.html">
              <i class="fas fa-fw fa-tachometer-alt"></i>
              <span>Dashboard</span></a>
          </li>
    
          <!-- Divider 
          <hr class="sidebar-divider">
        -->
          <!-- Heading -->
               <!-- Heading -->
               <hr class="sidebar-divider d-none d-md-block">
               <div class="sidebar-heading">
                 Location
               </div>
               <li class="nav-item ">
                <a class="nav-link" href="{{url_for('O1')}}">
                  <i class="fas fa-fw fa-table"></i>
                  <span>O1 Mall Medical Center</span></a>
              </li>
              <li class="nav-item ">
                <a class="nav-link"href="{{url_for('Korba')}}">
                  <i class="fas fa-fw fa-table"></i>
                  <span>Korba Diagnostic Center</span></a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="{{url_for('Park')}}">
                  <i class="fas fa-fw fa-table"></i>
                  <span>Park street clinic</span></a>
              </li>
              <hr class="sidebar-divider d-none d-md-block">
          <div class="sidebar-heading">
            Administration
          </div>
    
          <!-- Nav Item - Pages Collapse Menu -->
          
          <!-- Nav Item - Tables -->
          
          
       
          <!-- Divider -->
         

          <li class="nav-item ">
            <a class="nav-link" href="">
              <i class="fas fa-fw fa-table"></i>
              <span>New Doctor</span></a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="">
              <i class="fas fa-fw fa-table"></i>
              <span>New Speciality</span></a>
          </li>
       
   <br>
          <!-- Sidebar Toggler (Sidebar) -->
          <div class="text-center d-none d-md-inline">
            <button class="rounded-circle border-0" id="sidebarToggle"></button>
          </div>
        </ul>
        <!-- End of Sidebar -->
    
        <!-- Content Wrapper -->
        <div id="loader" ></div>
        <div id="content-wrapper" class="d-flex flex-column">
    
          <!-- Main Content -->
          <div id="content">
    
            <!-- Topbar -->
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
    
              <!-- Sidebar Toggle (Topbar) -->
              <form class="form-inline">
                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                  <i class="fa fa-bars"></i>
                </button>
              </form>
    
              <!-- Topbar Search -->
              
              <!-- Topbar Navbar -->
              <ul class="navbar-nav ml-auto">
    
                <!-- Nav Item - Search Dropdown (Visible Only XS) -->
                <li class="nav-item dropdown no-arrow d-sm-none">
                  <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-search fa-fw"></i>
                  </a>
                  <!-- Dropdown - Messages -->
                  <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
                    <form class="form-inline mr-auto w-100 navbar-search">
                      <div class="input-group">
                        <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                        <div class="input-group-append">
                          <button class="btn btn-primary" type="button">
                            <i class="fas fa-search fa-sm"></i>
                          </button>
                        </div>
                      </div>
                    </form>
                  </div>
                </li>
    
                <!-- Nav Item - Alerts -->
               
    
                <!-- Nav Item - Messages -->
               
                <div class="topbar-divider d-none d-sm-block"></div>
    
                <!-- Nav Item - User Information -->
                <li class="nav-item dropdown no-arrow">
                  <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="mr-2 d-none d-lg-inline text-gray-600">Admin</span>
                    <img class="img-profile rounded-circle" src="{{url_for('.static',filename='img/admin.png')}}">
                  </a>
                  <!-- Dropdown - User Information -->
                  <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                    
                
                    <a class="dropdown-item" href="{{url_for('login')}}" data-toggle="modal" data-target="#logoutModal">
                      <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                      Logout
                    </a>
                  </div>
                </li>
    
              </ul>
    
            </nav>

            
      {% block content %}
      {% endblock %}
     
      

   </div>
   
      <script src="{{url_for('.static', filename='vendor/jquery/jquery.min.js')}}"></script>
      <script src="{{url_for('.static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
    
      <!-- Core plugin JavaScript-->
      <script src="{{url_for('.static', filename='vendor/jquery-easing/jquery.easing.min.js')}}"></script>
    
      <!-- Custom scripts for all pages-->
      <script src="{{url_for('.static', filename='js/sb-admin-2.min.js')}}"></script>
    
      <!-- Page level plugins -->
      <script src="{{url_for('.static', filename='vendor/datatables/jquery.dataTables.min.js')}}"></script>
      <script src="{{url_for('.static', filename='vendor/datatables/dataTables.bootstrap4.min.js')}}"></script>
    
      <!-- Page level custom scripts -->
      <script src="{{url_for('.static', filename='js/demo/datatables-demo.js')}}"></script>
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9.15.1/dist/sweetalert2.all.min.js"></script>
   
     


      <script>

$(document).ready(function () {
      $('select').selectize({
          sortField: 'text'
      });
  });
                </script>
                <script>
                  $(document).on("click", ".open-AddBookDialog", function () {
                       var x = $(this).attr('data-row-val');
                       //$(".modal-body #del").val( x );
                       document.getElementById("del").value = x
                       //alert(document.getElementById("del").value);
                       //alert(x)
                  });
                  $(document).on("click", ".open-AddBookDialog", function () {
                       var x = $(this).attr('data-row-val');
                       //$(".modal-body #del").val( x );
                       document.getElementById("upd").value = x
                       //alert(document.getElementById("del").value);
                  });
                  $(document).on("click", ".open-AddBookDialog", function () {
                       var x = $(this).attr('data-row-val');
                       //$(".modal-body #del").val( x );
                       document.getElementById("shs").value = x
                       //alert(document.getElementById("del").value);
                  });
                  $(document).on("click", ".open-AddBookDialog", function () {
                       var x = $(this).attr('data-row-val1');
                       //$(".modal-body #del").val( x );
                       document.getElementById("rcode").value = x
                       //alert(document.getElementById("rcode").value);
                  });
                  $(document).on("click", ".open-AddBookDialog", function () {
                       var x = $(this).attr('data-row-val2');
                       //$(".modal-body #del").val( x );
                       document.getElementById("loc1").value = x
                       //alert(document.getElementById("del").value);
                  });
                  $(document).on("click", ".open-AddBookDialog", function () {
                       var x = $(this).attr('data-row-val3');
                       //$(".modal-body #del").val( x );
                       document.getElementById("loc2").value = x
                       //alert(document.getElementById("del").value);
                  });
           
           </script>
      <script>
        $('#vmhost').on('change',function(e){
         var host = $(this).val();
         $("#Operating").val('Retrieving Host OS, please wait....');
         var get_request = $.ajax({
              type: 'GET',
              url: '/LabSupport/create_backup/' + host + '/',
          });
              get_request.done(function(data){
    
              // data
              console.log(data)
    
              // add values to list
              $("#Operating").val(data);
               // show model list
    
            });
        });
        </script>
        <script>
          $(document).ready( function() {
          var now = new Date();
      
          var day = ("0" + now.getDate()).slice(-2);
          var month = ("0" + (now.getMonth() + 1)).slice(-2);
      
          var today = now.getFullYear()+"-"+(month)+"-"+(day) ;
      
      
          $('#datePicker').val(today);
          $('#datePicker2').val(today);
      
          });
        </script>

      
      <script>
        $(document).ready(function () {
    
            $("#SHWS").on('submit',function(e){
    
                //stop submitting the form to see the disabled button effect
                //e.preventDefault();
    
                //disable the submit button
                $("#submit").attr("disabled", true);
                $('#shutdownWS').modal('hide');
                  document.getElementById('loader').style.display = 'block';
                //disable a normal button
    
                return true;
    
            });
        });
    </script>
    <script>
      $(document).ready(function () {
    
          $("#SHWSs").on('submit',function(e){
    
              //stop submitting the form to see the disabled button effect
              //e.preventDefault();
    
              //disable the submit button
              $("#submit").attr("disabled", true);
              $('#shutdownWS').modal('hide');
                document.getElementById('loader').style.display = 'block';
              //disable a normal button
    
              return true;
    
          });
      });
    </script>
    <script>
    
      function debounce(func, threshold) {
    var timeout;
    
    return function() {
        var context = this,
            args = arguments;
    
        if (timeout) {
            clearTimeout(timeout);
        }
    
        timeout = setTimeout(function() {
            func.apply(context, args);
    
            timeout = null;
        }, threshold || 250);
    };
    }
    
    SessionTimeout = (function() {
    var session_duration = 900,
        session_timeout_id,
        logout_duration = 10,
        session_timeout_duration = (session_duration - logout_duration) * 1000,
        logout_id,
        logout_timeout_duration = logout_duration * 1000,
        events = 'keydown mousedown',
        notification_element;
    
    return {
        init: function() {
            var that = this;
    
            $(document).on($.trim((events + ' ').split(' ').join('.sessiontimer ')), debounce(function () {
                that.handler.apply(that);
            }, 500));
    
            this.startIdleTimeout();
        },
    
        handler: function() {
            // reset session timeout
            clearTimeout(session_timeout_id);
    
            this.startIdleTimeout();
        },
    
        startIdleTimeout: function () {
            var that = this;
    
            session_timeout_id = setTimeout(function () {
                that.idle.apply(that);
            }, session_timeout_duration);
        },
    
        idle: function() {
            // create bar
            notification_element = this.createTimeoutNotification();
    
            // display bar
            notification_element.slideDown();
    
            // remove events
            $(document).unbind('.sessiontimer');
    
            // start logout timeout
            this.startLogoutTimeout();
    
            // start logout countdown
            this.startLogoutCountdown();
    
            // add logout events
            this.attachTimeoutNotificationEvents();
        },
    
        createTimeoutNotification: function() {
            var notification_element = $('<div  class="session-timeout-notification">').html(function () {
                return [
                    '<strong>Hey! {{name}} </strong> you will be logged off in <strong class="time">' + logout_duration + '</strong> seconds due to inactivity. '
                ].join('');
            });
    
            notification_element.prependTo('header');
    
            return notification_element;
        },
    
        removeTimeoutNotification: function() {
            notification_element.slideUp(400, function() {
                $(this).remove();
            });
        },
    
        attachTimeoutNotificationEvents: function() {
            var that = this,
                dismiss_element = notification_element.find('a');
    
            dismiss_element.on('click', function() {
                // reset timer to prevent logout
                clearTimeout(logout_id);
    
                that.removeTimeoutNotification();
    
                that.init();
            });
        },
    
        startLogoutTimeout: function() {
            var that = this;
    
            logout_id = setTimeout(function() {
    
              Swal.fire({
    title: 'Session Expired',
    text: "Do you want to extend your session?",
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#3085d6',
    cancelButtonColor: '#d33',
    timer: 60000,
    confirmButtonText: 'Yes, Continue!'
    }).then((result) => {
    if (result.value) {
      Swal.fire(
        'success!',
        'Your session has been extened for 15 minute.',
        'success'
      )
      location.reload();
    }
    else{
      window.location.replace('{{url_for('logoutinactive')}}');
    
    }
    })
    
    
                that.removeTimeoutNotification.apply(that);
            }, logout_timeout_duration);
        },
    
        startLogoutCountdown: function(time) {
            var that = this,
                time = time || logout_duration - 1;
    
            setTimeout(function() {
                notification_element.find('.time').html(time);
    
                time--;
    
                if (time > 0) {
                    that.startLogoutCountdown.call(that, time);
                }
            }, 1000);
        }
    };
    }());
    
    SessionTimeout.init();
      </script>
    </body>
    
    </html>
    